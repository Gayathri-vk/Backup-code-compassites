{"ast":null,"code":"var _jsxFileName = \"/home/cc127/React-miniProjects/recipe-search/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport { recipes } from \"./tempList\";\nimport RecipeList from \"./components/recipeList\";\nimport RecipeDetails from \"./components/recipeDetails\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      recipes: recipes,\n      url: \"https://www.food2fork.com/api/search?key=83cdb1de68921618bff03b7937c74426\",\n      base_url: \"https://www.food2fork.com/api/search?key=83cdb1de68921618bff03b7937c74426\",\n      details_id: 35389,\n      pageIndex: 1,\n      search: \"\",\n      query: \"&q=\",\n      error: \"\"\n    };\n\n    this.displayPage = pageIndex => {\n      switch (pageIndex) {\n        case 0:\n          return React.createElement(RecipeDetails, {\n            id: this.state.details_id,\n            handleIndex: this.handleIndex,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 49\n            },\n            __self: this\n          });\n\n        case 1:\n          return React.createElement(RecipeList, {\n            recipes: this.state.recipes,\n            handleDetails: this.handleDetails,\n            value: this.state.search,\n            handleChange: this.handleChange,\n            handleSubmit: this.handleSubmit,\n            error: this.state.error,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52\n            },\n            __self: this\n          });\n\n        default:\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62\n            },\n            __self: this\n          }, \"No data\");\n      }\n    };\n\n    this.handleIndex = index => {\n      this.setState({\n        pageIndex: index\n      });\n    };\n\n    this.handleDetails = (index, id) => {\n      this.setState({\n        pageIndex: index,\n        details_id: id\n      });\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        search: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const _this$state = this.state,\n            base_url = _this$state.base_url,\n            query = _this$state.query,\n            search = _this$state.search;\n      this.setState(() => {\n        return {\n          url: \"\".concat(base_url).concat(query).concat(search),\n          search: \"\"\n        };\n      }, () => {\n        this.getRecipes();\n      });\n    };\n  }\n\n  async getRecipes() {\n    try {\n      const data = await fetch(this.state.url);\n      const jsonData = await data.json();\n\n      if (jsonData.recipes.length === 0) {\n        this.setState(() => {\n          return {\n            error: \"sorry, but your search did not return any results\"\n          };\n        });\n      } else {\n        this.setState(() => {\n          return {\n            recipes: jsonData.recipes\n          };\n        });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  componentDidMount() {\n    this.getRecipes();\n  }\n\n  clickEvent() {\n    alert('working');\n  }\n\n  render() {\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, this.displayPage(this.state.pageIndex), React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: clickEvent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"click\"));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/cc127/React-miniProjects/recipe-search/src/App.js"],"names":["React","Component","recipes","RecipeList","RecipeDetails","App","constructor","props","state","url","base_url","details_id","pageIndex","search","query","error","displayPage","handleIndex","handleDetails","handleChange","handleSubmit","index","setState","id","e","target","value","preventDefault","getRecipes","data","fetch","jsonData","json","length","console","log","componentDidMount","clickEvent","alert","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport './App.css';\nimport {recipes} from \"./tempList\";\nimport RecipeList from \"./components/recipeList\";\nimport RecipeDetails from \"./components/recipeDetails\";\n\nclass App extends Component {\n  constructor(props){\n    super(props);\n    \n  }\n  state = {\n    recipes: recipes,\n    url: \"https://www.food2fork.com/api/search?key=83cdb1de68921618bff03b7937c74426\",\n    base_url: \"https://www.food2fork.com/api/search?key=83cdb1de68921618bff03b7937c74426\",\n    details_id: 35389,\n    pageIndex: 1,\n    search: \"\",\n    query: \"&q=\",\n    error: \"\"\n  }\n\n  async getRecipes() {\n    try {\n      const data = await fetch(this.state.url);\n      const jsonData = await data.json();\n      if(jsonData.recipes.length === 0) {\n        this.setState(() => {\n          return {error: \"sorry, but your search did not return any results\"}\n        })\n      }\n      else {\n        this.setState(() => {\n          return {recipes: jsonData.recipes}\n        })\n      }\n    }\n    catch(error) {\n      console.log(error);\n    }\n  }\n  componentDidMount() {\n    this.getRecipes()\n  }\n\n  displayPage = (pageIndex) => {\n    switch(pageIndex) {\n      case 0: return (\n        <RecipeDetails id={this.state.details_id} handleIndex={this.handleIndex} />\n      )\n      case 1: return (\n        <RecipeList\n          recipes={this.state.recipes}\n          handleDetails={this.handleDetails}\n          value={this.state.search}\n          handleChange={this.handleChange}\n          handleSubmit={this.handleSubmit}\n          error={this.state.error}\n        />\n      )\n      default: return (\n        <div>No data</div>\n      )\n    }\n  }\n\n  handleIndex = (index) => {\n    this.setState({\n      pageIndex: index\n    });\n  }\n\n  handleDetails = (index, id) => {\n    this.setState({\n      pageIndex: index,\n      details_id: id\n    });\n  }\n\n  handleChange = (e) => {\n    this.setState({\n      search: e.target.value\n    })\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const {base_url, query, search} = this.state;\n    this.setState(() => {\n      return {\n        url: `${base_url}${query}${search}`, search: \"\"\n      }\n    }, () => {\n      this.getRecipes();\n    }\n    )\n  }\n  clickEvent(){\n    alert('working')\n  }\n  render() {\n    return (\n      <React.Fragment>\n        {this.displayPage(this.state.pageIndex)}\n        <button type=\"submit\" onClick ={clickEvent}>click</button>\n      </React.Fragment>\n    );\n  }\n  \n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}